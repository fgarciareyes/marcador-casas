<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marcador de Competencias</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>
    <header>
        <div class="container header-content">
            <h1>Marcador de Competencias</h1>
            <nav>
                <ul>
                    <li><a href="#" class="nav-link active" data-page="results">Resultados</a></li>
                    <li><a href="#" class="nav-link" data-page="login">Ingresar Puntos</a></li>
                    <li><button id="report-btn" class="report-btn">Generar Reporte PDF</button></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <div class="container">
        <!-- Página de resultados -->
        <div id="results" class="page active">
            <h2>Resultados por Casa</h2>
            
            <div class="houses-grid">
                <div class="house-card cartago">
                    <h3>Cartago</h3>
                    <div class="score" id="cartago-score">0</div>
                </div>
                <div class="house-card hipona">
                    <h3>Hipona</h3>
                    <div class="score" id="hipona-score">0</div>
                </div>
                <div class="house-card milan">
                    <h3>Milán</h3>
                    <div class="score" id="milan-score">0</div>
                </div>
                <div class="house-card tagaste">
                    <h3>Tagaste</h3>
                    <div class="score" id="tagaste-score">0</div>
                </div>
            </div>
            
            <div class="chart-container">
                <canvas id="scoreChart"></canvas>
            </div>
            
            <h3>Resultados por Grado</h3>
            <table class="results-table" id="results-by-grade">
                <thead>
                    <tr>
                        <th>Grado</th>
                        <th>Cartago</th>
                        <th>Hipona</th>
                        <th>Milán</th>
                        <th>Tagaste</th>
                        <th>Ganador</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Los datos se llenarán con JavaScript -->
                </tbody>
            </table>
        </div>
        
        <!-- Página de login -->
        <div id="login" class="page">
            <div class="login-form">
                <h2>Ingresar al Sistema</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="username">Usuario:</label>
                        <input type="text" id="username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Contraseña:</label>
                        <input type="password" id="password" required>
                    </div>
                    <button type="submit">Ingresar</button>
                </form>
            </div>
        </div>
        
        <!-- Página de ingreso de puntos (solo visible después del login) -->
        <div id="points-entry" class="page">
            <h2>Ingresar Puntos</h2>
            <button id="logout-btn" class="logout-btn">Cerrar Sesión</button>
            
            <!-- Sección para seleccionar grado -->
            <div class="grade-section">
                <h3>Seleccionar Grado</h3>
                <div class="form-group">
                    <label for="grade-select">Grado:</label>
                    <select id="grade-select">
                        <option value="">Seleccionar grado</option>
                        <option value="pre-kinder">Pre Kinder</option>
                        <option value="kinder">Kinder</option>
                        <option value="1ro">1er Grado</option>
                        <option value="2do">2do Grado</option>
                        <option value="3ro">3er Grado</option>
                        <option value="4to">4to Grado</option>
                        <option value="5to">5to Grado</option>
                        <option value="6to">6to Grado</option>
                        <option value="7mo">7mo Grado</option>
                        <option value="8vo">8vo Grado</option>
                        <option value="9no">9no Grado</option>
                        <option value="10mo">10mo Grado</option>
                        <option value="11mo">11mo Grado</option>
                    </select>
                </div>
                <div id="current-grade-display" class="current-grade" style="display: none;">
                    Grado seleccionado: <span id="selected-grade">Ninguno</span>
                </div>
            </div>
            
            <div class="points-form">
                <div class="form-section">
                    <h3>Deportes Colectivos</h3>
                    <div class="form-group">
                        <label for="collective-sport">Deporte:</label>
                        <select id="collective-sport">
                            <option value="">Seleccionar deporte</option>
                            <option value="futbol-varones">Fútbol Varones</option>
                            <option value="futbol-damas">Fútbol Damas</option>
                            <option value="voley-masculino">Voley Masculino</option>
                            <option value="voley-femenino">Voley Femenino</option>
                            <option value="basket-varones">Basket Varones</option>
                            <option value="basket-damas">Basket Damas</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="collective-position">Posición:</label>
                        <select id="collective-position">
                            <option value="">Seleccionar posición</option>
                            <option value="1">1er Puesto (100 pts)</option>
                            <option value="2">2do Puesto (80 pts)</option>
                            <option value="3">3er Puesto (60 pts)</option>
                            <option value="4">4to Puesto (40 pts)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="collective-house">Casa:</label>
                        <select id="collective-house">
                            <option value="">Seleccionar casa</option>
                            <option value="cartago">Cartago</option>
                            <option value="hipona">Hipona</option>
                            <option value="milan">Milán</option>
                            <option value="tagaste">Tagaste</option>
                        </select>
                    </div>
                    <button id="add-collective-points">Agregar Puntos</button>
                </div>
                
                <div class="form-section">
                    <h3>Deportes Individuales</h3>
                    <div class="form-group">
                        <label for="individual-sport">Deporte:</label>
                        <select id="individual-sport">
                            <option value="">Seleccionar deporte</option>
                            <option value="velocidad">Velocidad (80 mt)</option>
                            <option value="salto-largo">Salto Largo</option>
                            <option value="maraton">Maratón</option>
                            <option value="natacion-libre">Natación 25mt Libre</option>
                            <option value="natacion-espalda">Natación 25mt Espalda</option>
                            <option value="natacion-pecho">Natación 25mt Pecho</option>
                            <option value="natacion-mariposa">Natación 25mt Mariposa</option>
                            <option value="natacion-combinado">Natación 100mt Combinado</option>
                            <option value="tenis-mesa">Tenis de Mesa</option>
                            <option value="ajedrez">Ajedrez</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="individual-position">Posición:</label>
                        <select id="individual-position">
                            <option value="">Seleccionar posición</option>
                            <option value="1">1er Puesto (20 pts)</option>
                            <option value="2">2do Puesto (16 pts)</option>
                            <option value="3">3er Puesto (14 pts)</option>
                            <option value="4">4to Puesto (12 pts)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="individual-house">Casa:</label>
                        <select id="individual-house">
                            <option value="">Seleccionar casa</option>
                            <option value="cartago">Cartago</option>
                            <option value="hipona">Hipona</option>
                            <option value="milan">Milán</option>
                            <option value="tagaste">Tagaste</option>
                        </select>
                    </div>
                    <button id="add-individual-points">Agregar Puntos</button>
                </div>
            </div>
            
            <div id="points-message" style="margin-top: 20px; padding: 10px; display: none;"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/data.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/pdf.js"></script>
    <script src="js/app.js"></script>
</body>
</html>